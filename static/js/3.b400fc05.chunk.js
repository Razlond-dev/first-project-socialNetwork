(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{511:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(122),r=a(0),o=a.n(r),l=a(26),i=a(31),s=function(e){return{isAuth:e.auth.isAuth}};function c(e){return Object(l.b)(s)((function(t){var a=t.isAuth,r=Object(n.a)(t,["isAuth"]);return a?o.a.createElement(e,r):o.a.createElement(i.a,{to:"login"})}))}},512:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__35LXn",mainPhoto:"ProfileInfo_mainPhoto__1qcDD"}},513:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2IsAw",posts:"MyPosts_posts__2afnD"}},514:function(e,t,a){e.exports={item:"Post_item__1vLGK",active:"Post_active__12JU4"}},515:function(e,t,a){"use strict";a.r(t);var n=a(175),r=a(176),o=a(230),l=a(227),i=a(0),s=a.n(i);var c=a(207);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||Object(c.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(125),p=a(512),f=a.n(p),d=function(e){var t=u(Object(i.useState)(!1),2),a=t[0],n=t[1],r=u(Object(i.useState)(e.status),2),o=r[0],l=r[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return s.a.createElement(s.a.Fragment,null,a?s.a.createElement("div",null,s.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){n(!1),e.updateUserStatus(o)},type:"text",value:o,autoFocus:!0})):s.a.createElement("div",null,s.a.createElement("span",{style:{fontSize:18},onClick:function(){n(!0)}},s.a.createElement("b",null,"Status: "),e.status||"status is empty")))},E=a.p+"static/media/userPhoto.d1a05c1c.jpg",v=a(225),h=a(226),b=a(503),y=Object(h.a)({form:"editProfile"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement("div",null,e.error?s.a.createElement("div",{className:"formSummaryError"}," ",e.error," "):null,s.a.createElement("b",null,"Looking for a job:")," ",s.a.createElement(v.a,{type:"checkbox",name:"lookingForAJob",component:"input"})),s.a.createElement("div",null,s.a.createElement("b",null,"My proffecional skills:")," ",s.a.createElement(v.a,{type:"text",name:"lookingForAJobDescription",component:"textarea"})),s.a.createElement("div",null,s.a.createElement("b",null,"fullName:")," ",s.a.createElement(v.a,{type:"text",name:"fullName",component:"input"})),s.a.createElement("div",null,s.a.createElement("b",null,"about me:")," ",s.a.createElement(v.a,{type:"text",name:"aboutMe",component:"textarea"})),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts:")," ",Object.keys(e.profile.contacts).map((function(e){return s.a.createElement("div",{key:e,className:f.a.contact},s.a.createElement("b",null,e,":")," ",s.a.createElement(v.a,{placeholder:e,type:"text",name:"contacts."+e,component:"input"}))}))),s.a.createElement(b.a,{onClick:e.handleSubmit},"Save")))})),g=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return s.a.createElement("div",{style:{fontSize:16}},s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&t.lookingForAJobDescription&&s.a.createElement("div",null,s.a.createElement("b",null,"My proffecional skills:")," ",t.lookingForAJobDescription),s.a.createElement("div",null,s.a.createElement("b",null,"fullName:")," ",t.fullName),s.a.createElement("div",null,s.a.createElement("b",null,"about me:")," ",t.aboutMe),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return s.a.createElement(P,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),a&&s.a.createElement("div",null,s.a.createElement(b.a,{onClick:n},"Edit")))},P=function(e){var t=e.contactTitle,a=e.contactValue;return s.a.createElement("div",{className:f.a.contact},s.a.createElement("b",null,t,":"),a)},k=function(e){var t=u(Object(i.useState)(!1),2),a=t[0],n=t[1];if(!e.profile)return s.a.createElement(m.a,null);return s.a.createElement("div",{style:{padding:50,width:900}},s.a.createElement("div",{className:f.a.descriptionBlock,style:{display:"flex",justifyContent:"space-between"}},s.a.createElement("div",null,s.a.createElement("img",{style:{marginBottom:10},src:e.profile.photos.large||E,className:f.a.mainPhoto,alt:"avatar"}),e.isOwner&&s.a.createElement("input",{style:{marginBottom:20},type:"file",onChange:function(t){var a;(null===(a=t.target.files)||void 0===a?void 0:a.length)&&e.savePhoto(t.target.files[0])}}),s.a.createElement(d,{status:e.status,updateUserStatus:e.updateUserStatus})),a?s.a.createElement(y,Object.assign({initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){n(!1)}))}},e)):s.a.createElement(g,{profile:e.profile,goToEditMode:function(){n(!0)},isOwner:e.isOwner})))},O=a(173),S=a(513),j=a.n(S),w=a(514),x=a.n(w),C=a(208),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"},A=a(68),U=function(e,t){return i.createElement(A.a,Object.assign({},e,{ref:t,icon:_}))};U.displayName="LikeOutlined";var N=i.forwardRef(U),I=function(e){var t=u(Object(i.useState)(e.likeCount),2),a=t[0],n=t[1];return s.a.createElement("div",{className:"".concat(x.a.item," ").concat(x.a.active)},s.a.createElement("img",{style:{padding:10},src:C.a,alt:"post"}),e.message,s.a.createElement("div",null,s.a.createElement(b.a,{onClick:function(){n(e.likeCount+1)}},s.a.createElement(N,null),"Like")," ",a))},T=a(123),M=a(172),B=Object(M.a)("textarea"),J=Object(h.a)({form:"newPost"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(v.a,{name:"newPost",value:e.newPostText,placeholder:"Post something",component:B,validate:T.a})),s.a.createElement("div",null,s.a.createElement("button",null,"Add Post")))})),z=function(e){var t=e.posts.map((function(e){return s.a.createElement(I,{key:e.id,message:e.message,likeCount:e.likesCount})}));return s.a.createElement("div",{className:j.a.postsBlock},s.a.createElement("div",null,s.a.createElement("h3",null,"My posts"),s.a.createElement(J,{onSubmit:function(t){e.addPost(t.newPost)}}),s.a.createElement("div",{className:j.a.posts},t)))},D=a(26),F=Object(D.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(O.a.addPostCreator(t))},updateNewPostText:function(t){e(O.a.updateNewPostTextCreator(t))}}}))(z),L=function(e){return s.a.createElement("div",null,s.a.createElement(k,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,saveProfile:e.saveProfile}),s.a.createElement(F,null))},V=a(31),H=a(511),R=a(29),q=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId),e?(this.props.showProfileThunkCreator(e),this.props.getUserStatus(e)):console.error("UserId should be in URL params or in state authorizedUserId")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(L,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})))}}]),a}(s.a.Component);t.default=Object(R.d)(Object(D.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{showProfileThunkCreator:O.f,getUserStatus:O.c,updateUserStatus:O.g,savePhoto:O.d,saveProfile:O.e}),V.g,H.a)(q)}}]);
//# sourceMappingURL=3.b400fc05.chunk.js.map