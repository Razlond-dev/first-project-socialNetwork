{"version":3,"sources":["api/api.ts","components/Header/Header.module.css","assets/images/userPhoto.jpg","redux/Dialogs_reducer.ts","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/common/FormControls/formControls.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPostsContainer.jsx","components/Navbar/Navbar.module.css","components/Profile/ProfileInfo/ProfileStatusHook.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","assets/images/Preloader.gif","components/Users/Users.module.css","components/Profile/Profile.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","utils/validation/validators.js","components/Dialogs/Dialogs.module.css","redux/Users_reducer.ts","components/common/preloader/preloader.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.jsx","components/Navbar/Navbar.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/Music/Music.jsx","components/common/Paginator/Paginator.tsx","components/Users/User.jsx","components/Users/Users.tsx","redux/Users_selectors.ts","components/Users/UsersContainer.tsx","redux/Auth_reducer.ts","components/Header/HeaderContainer.jsx","components/login/login.jsx","redux/App_reducer.ts","redux/Sidebar_reducer.ts","redux/redux-store.ts","App.js","serviceWorker.js","index.js","redux/Profile_reducer.ts","components/common/FormControls/formControls.js"],"names":["ResultCodeEnum","ResultCodeForCaptchaEnum","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","authAPI","authMe","login","email","password","rememberMe","captcha","logout","profileAPI","showProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","module","exports","initialState","dialogs","id","name","avatarURL","messages","message","addMessageCreator","newMessageText","type","dialogsReducer","state","action","Post","props","className","s","item","active","src","alt","likeCount","Textarea","formControl","maxLength10","maxLengthCreator","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","value","newPostText","placeholder","component","validate","required","MyPosts","console","log","postsElements","posts","map","p","key","likesCount","postsBlock","values","addPost","newPost","MyPostsContainer","connect","profilePage","dispatch","addPostCreator","updateNewPostText","newText","updateNewPostTextCreator","ProfileStatusHook","useState","editMode","setEditMode","setStatus","useEffect","onChange","e","currentTarget","onBlur","updateUserStatus","autoFocus","onClick","ProfileDataReduxForm","error","Object","keys","contacts","contact","ProfileData","isOwner","goToEditMode","lookingForAJob","lookingForAJobDescription","fullName","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","descriptionBlock","photos","large","userPhoto","mainPhoto","target","files","length","initialValues","Profile","DialogItem","dialog","to","Message","maxLength200","AddMessageFormRedux","Dialogs","dialogsElements","dialogsPage","dia","messagesElements","mes","isAuth","dialogsItems","addMessage","maxLength","users","totalUsersCount","isFetching","followinInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","getState","a","items","count","totalCount","_followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","u","followed","filter","Preloader","style","width","height","backgroundColor","preloader","Header","header","loginBlock","logoutThunkCreator","Navbar","nav","activeClassName","activeLink","Settings","News","Music","Paginatior","pageCount","Math","ceil","pages","i","push","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","onPageChanged","containerClassName","subContainerClassName","disabledClassName","nextLinkClassName","previousLinkClassName","pageClassName","User","user","small","disabled","followingInProgress","some","Users","getUsersSel","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","Component","compose","captchaUrl","setAuthUserData","authMeThunkCreator","Success","url","authReducer","HeaderContainer","auth","Input","LoginReduxForm","loginThunkCreator","CaptchaIsRequired","stopSubmit","_error","initialised","appReducer","friends","sidebarReducer","rootReducer","combineReducers","profileReducer","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initialiseApp","addEventListener","removeEventListener","fallback","exact","path","render","AppContainer","withRouter","dispatchResult","Promise","all","MainApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","setUserStatus","text","showProfileThunkCreator","getUserStatus","file","reject","Element","input","meta","hasError","touched","styles"],"mappings":"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","file":"static/js/main.81544fb7.chunk.js","sourcesContent":["import { AnyRecord } from \"dns\"\r\nimport { profileType } from \"../types/types\"\r\n\r\nimport Axios from \"axios\"\r\n\r\n\r\nconst instance = Axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'a25da4cd-7dea-4af1-9083-41bac44635bc'\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n  },\r\n  unfollow(userId: number) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  follow(userId: number) {\r\n    return instance.post(`follow/${userId}`)\r\n  }\r\n}\r\n\r\nexport enum ResultCodeEnum {\r\n  Success = 0,\r\n  Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptchaEnum {\r\n  Success = 0,\r\n  CaptchaIsRequired = 10\r\n}\r\n\r\ntype authMeResponseType = {\r\n  data: {\r\n    id: number\r\n    email: string\r\n    login: string\r\n  }\r\n  resultCode: ResultCodeEnum\r\n  messages: Array<string>\r\n}\r\n\r\ntype loginMeResponseType = {\r\n  data: {\r\n    userId: number\r\n  }\r\n  resultCode: ResultCodeEnum\r\n  messages: Array<string>\r\n}\r\n\r\nexport const authAPI = {\r\n  authMe() {\r\n    return instance.get<authMeResponseType>(`auth/me`).then(response => response.data)\r\n  },\r\n  login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n    return instance.post<loginMeResponseType>(`auth/login`, { email, password, rememberMe, captcha }).then(response => response.data)\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  showProfile(userId: number) {\r\n    return instance.get(`profile/` + userId).then(response => response.data)\r\n  },\r\n  getStatus(userId: number) {\r\n    return instance.get(`profile/status/` + userId).then(response => response.data)\r\n  },\r\n  updateStatus(status: string) {\r\n    return instance.put(`profile/status`, { status: status }).then(response => response.data)\r\n  },\r\n  savePhoto(photoFile: any) {\r\n    const formData = new FormData()\r\n    formData.append('avatar', photoFile)\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then(response => response.data)\r\n  },\r\n  saveProfile(profile: profileType) {\r\n    return instance.put(`profile`, profile).then(response => response.data)\r\n  }\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`).then(response => response.data)\r\n  }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2hgb3\",\"loginBlock\":\"Header_loginBlock__2wvbe\"};","module.exports = __webpack_public_path__ + \"static/media/userPhoto.e72d613e.jpg\";","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\n\r\ntype dialogType = {\r\n  id: number\r\n  name: string\r\n  avatarURL: string // mozhet eto izbytochnoe\r\n}\r\n\r\ntype messageType = {\r\n  id: number\r\n  message: string\r\n}\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Dimych', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 2, name: 'Lena', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 3, name: 'Andrew', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 4, name: 'Nastya', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 5, name: 'Yana', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 6, name: 'Diana', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n  ] as Array<dialogType>,\r\n  messages: [\r\n    { id: 1, message: 'Hey, how are you?' },\r\n    { id: 2, message: 'You' },\r\n    { id: 3, message: 'Hey, how are you?Good?' },\r\n    { id: 4, message: 'Hey, how are you?Bad?' },\r\n    { id: 5, message: 'I am good!' },\r\n    { id: 6, message: 'Hey, I am new.' },\r\n  ] as Array<messageType>\r\n}\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nconst dialogsReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 7, message: action.newMessageText }]\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype addMessageCreatorActionType = {\r\n  type: typeof ADD_MESSAGE,\r\n  newMessageText: string\r\n}\r\n\r\nexport const addMessageCreator = (newMessageText: string): addMessageCreatorActionType => ({ type: ADD_MESSAGE, newMessageText })\r\n\r\n\r\n\r\nexport default dialogsReducer","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={`${s.item} ${s.active}`}>\r\n      <img src=\"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search/jcr_content/main-pars/image/visual-reverse-image-search-v2_intro.jpg\" alt=\"\" />\r\n      {props.message}\r\n      <div>\r\n        <button>Like</button> {props.likeCount}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post';\r\nimport { addPostCreator, updateNewPostTextCreator } from '../../../redux/Profile_reducer'\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validation/validators';\r\nimport { formControl } from '../../common/FormControls/formControls';\r\n\r\nconst Textarea = formControl('textarea')\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst MyPostsForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field name={'newPost'} value={props.newPostText} placeholder='Post something' component={Textarea} validate={required, maxLength10} />\r\n      </div>\r\n      <div>\r\n        <button>Add Post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({\r\n  form: 'newPost'\r\n})(MyPostsForm)\r\n\r\nconst MyPosts = (props) => {\r\nconsole.log('rendered');\r\n  let postsElements = props.posts.map(p => <Post key={p.id} message={p.message} likeCount={p.likesCount} />)\r\n\r\n  let onAddPost = (values) => {\r\n    console.log(values);\r\n    props.addPost(values.newPost)\r\n  }\r\n\r\n  return <div className={s.postsBlock}>\r\n    <div>\r\n      <h3>My posts</h3>\r\n      <MyPostsReduxForm onSubmit={onAddPost} />\r\n      <div className={s.posts}>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default MyPosts\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"formControls_error__MOvYy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2NJG5\",\"posts\":\"MyPosts_posts__2tMeU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__6ks5X\",\"active\":\"Post_active__2g7Q-\"};","import React from 'react';\r\nimport { addPostCreator, updateNewPostTextCreator } from '../../../redux/Profile_reducer'\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPost) => { dispatch(addPostCreator(newPost)) },\r\n    updateNewPostText: (newText) => { dispatch(updateNewPostTextCreator(newText)) }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nlet MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default MyPostsContainer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2g-4y\",\"item\":\"Navbar_item__yUmGj\",\"activeLink\":\"Navbar_activeLink__VijfY\"};","import React, { useEffect, useState } from 'react';\r\nimport { toggleIsFetching } from '../../../redux/Users_reducer';\r\nimport Preloader from '../../common/preloader/preloader';\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatusHook = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false)\r\n  let [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n  const deActivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateUserStatus(status)\r\n  }\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n\r\n  return <>\r\n    { editMode\r\n      ? <div>\r\n        <input onChange={onStatusChange} onBlur={deActivateEditMode} type=\"text\" value={status} autoFocus={true} />\r\n      </div>\r\n      : <div>\r\n        <span onClick={activateEditMode}><b>Status: </b>{props.status || 'status is empty'}</span>\r\n      </div>\r\n    }\r\n\r\n  </>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default ProfileStatusHook","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileDataForm = (props) => {\r\n  return <form onSubmit={props.handleSubmit}>\r\n    <div>\r\n      <button>Save</button></div>\r\n    <div>\r\n      {props.error\r\n        ? <div className='formSummaryError'> {props.error} </div>\r\n        : null}\r\n      <b>Looking for a job:</b> <Field type=\"checkbox\" name={'lookingForAJob'} component={'input'} />\r\n    </div>\r\n    <div>\r\n      <b>My proffecional skills:</b> <Field type=\"text\" name={'lookingForAJobDescription'} component={'textarea'} />\r\n    </div>\r\n    <div>\r\n      <b>fullName:</b> <Field type=\"text\" name={'fullName'} component={'input'} />\r\n    </div>\r\n    <div>\r\n      <b>about me:</b> <Field type=\"text\" name={'aboutMe'} component={'textarea'} />\r\n    </div>\r\n    <div>\r\n      <b>Contacts:</b> {Object.keys(props.profile.contacts).map(key => {\r\n        return <div key={key} className={s.contact}>\r\n          <b>{key}:</b> <Field placeholder={key} type=\"text\" name={'contacts.' + key} component={'input'} />\r\n        </div>\r\n      })}\r\n    </div>\r\n  </form >\r\n}\r\n\r\n\r\n\r\n\r\nconst ProfileDataReduxForm = reduxForm({ form: 'editProfile' })(ProfileDataForm)\r\n\r\n\r\nexport default ProfileDataReduxForm","import React, { useState } from 'react';\r\nimport Preloader from '../../common/preloader/preloader';\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatusHook from './ProfileStatusHook';\r\nimport userPhoto from '../../../assets/images/userPhoto.jpg'\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false)\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    props.saveProfile(formData).then(\r\n      () => {\r\n        setEditMode(false)\r\n      })\r\n\r\n  }\r\n\r\n  return <div>\r\n    <div className={s.descriptionBlock}>\r\n      <img src={props.profile.photos.large || userPhoto} className={s.mainPhoto} alt=\"avatar\" />\r\n      {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n\r\n      {\r\n        editMode\r\n          ? <ProfileDataForm initialValues={props.profile} onSubmit={onSubmit} {...props} />\r\n          : <ProfileData profile={props.profile} goToEditMode={() => { setEditMode(true) }} isOwner={props.isOwner} />\r\n      }\r\n\r\n      <ProfileStatusHook status={props.status} updateUserStatus={props.updateUserStatus} />\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nconst ProfileData = ({ profile, isOwner, goToEditMode }) => {\r\n  return <div>\r\n    {isOwner && <div><button onClick={goToEditMode}>Edit</button></div>}\r\n    <div>\r\n      <b>Looking for a job:</b> {profile.lookingForAJob ? 'Yes' : 'No'}\r\n    </div>\r\n    {profile.lookingForAJob && profile.lookingForAJobDescription &&\r\n      <div>\r\n        <b>My proffecional skills:</b> {profile.lookingForAJobDescription}\r\n      </div>\r\n    }\r\n    <div>\r\n      <b>fullName:</b> {profile.fullName}\r\n    </div>\r\n    <div>\r\n      <b>about me:</b> {profile.aboutMe}\r\n    </div>\r\n    <div>\r\n      <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n        return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n      })}\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n  return <div className={s.contact}><b>{contactTitle}:</b>{contactValue}</div>\r\n}\r\n\r\n\r\n\r\n\r\nexport default ProfileInfo","module.exports = \"data:image/gif;base64,R0lGODlhhANYAvQCAAjC/////zHM/zrO/xbF/zbN/yvL/xXF/xfG/xzH/zLM/zvP/xLE/y/M/xTF/xvH/yrK/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5QjFENDAxRTM2ODQxMUVBQTRCRTg1NDIwQzA1MDQ2NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5QjFENDAxRjM2ODQxMUVBQTRCRTg1NDIwQzA1MDQ2NyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlCMUQ0MDFDMzY4NDExRUFBNEJFODU0MjBDMDUwNDY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlCMUQ0MDFEMzY4NDExRUFBNEJFODU0MjBDMDUwNDY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRh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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2lx5F\"};","import React from 'react';\r\nimport s from './Profile.module.css'\r\nimport MyPosts from './MyPosts/MyPosts'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n  return <div>\r\n    <ProfileInfo isOwner={props.isOwner} savePhoto={props.savePhoto} profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus} saveProfile={props.saveProfile} />\r\n    <MyPostsContainer />\r\n  </div>\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n  return <div className={`${s.dialog} ${s.active}`}>\r\n    <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n  </div>\r\n}\r\n\r\nexport default DialogItem","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { addMessageCreator, updateNewMessageTextCreator } from '../../redux/Dialogs_reducer'\r\nimport { maxLengthCreator, required } from '../../utils/validation/validators'\r\nimport { formControl } from '../common/FormControls/formControls'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport s from './Dialogs.module.css'\r\nimport Message from './Message/Message'\r\n\r\nconst Textarea = formControl('textarea')\r\nconst maxLength200 = maxLengthCreator(200)\r\n\r\nconst addMessageForm = (props) => {\r\n  return (<form onSubmit={props.handleSubmit}>\r\n    <Field component={Textarea} validate={required, maxLength200} name={'newMessageText'} placeholder='Send message' />\r\n    <button>Add message</button>\r\n  </form>)\r\n}\r\n\r\n\r\nconst AddMessageFormRedux = reduxForm({\r\n  form: 'dialogsAddMessageForm'\r\n})(addMessageForm)\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n  let dialogsElements = props.dialogsPage.dialogs.map(dia => <DialogItem name={dia.name} key={dia.id} id={dia.id} />)\r\n  let messagesElements = props.dialogsPage.messages.map(mes => <Message message={mes.message} key={mes.id} />)\r\n  let newMessageElement = props.dialogsPage.newMessageText\r\n\r\n  let addMessage = (values) => {\r\n    props.addMessage(values.newMessageText)\r\n  }\r\n\r\n  if (!props.isAuth) return <Redirect to={'login'} />\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>\r\n        {dialogsElements}\r\n      </div>\r\n\r\n      <div className={s.messages}>\r\n        <div>\r\n          {messagesElements}\r\n        </div>\r\n        <AddMessageFormRedux onSubmit={addMessage} />\r\n      </div>\r\n    </div>)\r\n}\r\n\r\nexport default Dialogs","export const required = value => {\r\n  if (value) {\r\n    return undefined\r\n  }\r\n  return 'Field is required'\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength) {\r\n    return `Max length is ${maxLength} symbols`\r\n  }\r\n  return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__37wK4\",\"dialogsItems\":\"Dialogs_dialogsItems__1t0Xh\",\"active\":\"Dialogs_active__1HYBh\",\"dialog\":\"Dialogs_dialog__3Jkks\",\"messages\":\"Dialogs_messages__SEWji\",\"message\":\"Dialogs_message__24-8O\"};","import { Dispatch } from \"react\"\r\nimport { ThunkAction } from \"redux-thunk\"\r\nimport { usersAPI } from \"../api/api\"\r\nimport { userType } from \"../types/types\"\r\nimport { appStateType } from \"./redux-store\"\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n  users: [] as Array<userType>,\r\n  pageSize: 5,\r\n  totalUsersCount: 21,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followinInProgress: [] as Array<number> // array of users ids\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nconst usersReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => u.id === action.userId ? { ...u, followed: true } : u)\r\n      }\r\n\r\n    case UNFOLLOW: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => u.id === action.userId ? { ...u, followed: false } : u)\r\n      }\r\n    }\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users }\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followinInProgress: action.isFetching\r\n          ? [...state.followinInProgress, action.userId]\r\n          : state.followinInProgress.filter(id => id != action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype ActionsType = followSuccessActionType | unfollowSuccessActionType | setUsersActionType | setCurrentPageActionType\r\n  | setTotalUsersCountActionType | toggleIsFetchingActionType | toggleIsFollowingProgressActionType\r\n\r\ntype followSuccessActionType = {\r\n  type: typeof FOLLOW\r\n  userId: number\r\n}\r\nexport const followSuccess = (userId: number): followSuccessActionType => ({ type: FOLLOW, userId })\r\ntype unfollowSuccessActionType = {\r\n  type: typeof UNFOLLOW\r\n  userId: number\r\n}\r\nexport const unfollowSuccess = (userId: number): unfollowSuccessActionType => ({ type: UNFOLLOW, userId })\r\ntype setUsersActionType = {\r\n  type: typeof SET_USERS\r\n  users: Array<userType>\r\n}\r\nexport const setUsers = (users: Array<userType>): setUsersActionType => ({ type: SET_USERS, users })\r\ntype setCurrentPageActionType = {\r\n  type: typeof SET_CURRENT_PAGE\r\n  currentPage: number\r\n}\r\nexport const setCurrentPage = (currentPage: number): setCurrentPageActionType => ({ type: SET_CURRENT_PAGE, currentPage })\r\ntype setTotalUsersCountActionType = {\r\n  type: typeof SET_TOTAL_USERS_COUNT\r\n  count: number\r\n}\r\nexport const setTotalUsersCount = (totalCount: number): setTotalUsersCountActionType => ({ type: SET_TOTAL_USERS_COUNT, count: totalCount })\r\ntype toggleIsFetchingActionType = {\r\n  type: typeof TOGGLE_IS_FETCHING\r\n  isFetching: boolean\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): toggleIsFetchingActionType => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\ntype toggleIsFollowingProgressActionType = {\r\n  type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n  isFetching: boolean\r\n  userId: number\r\n}\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): toggleIsFollowingProgressActionType => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\ntype thunkType = ThunkAction<Promise<void>, appStateType, unknown, ActionsType>\r\n\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number): thunkType =>\r\n  async (dispatch, getState) => {\r\n\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n  }\r\n\r\nexport const _followUnfollowFlow = async (userId: number,\r\n  dispatch: Dispatch<ActionsType>,\r\n  apiMethod: any,\r\n  actionCreator: (userId: number) => followSuccessActionType | unfollowSuccessActionType) => {\r\n\r\n  dispatch(toggleIsFollowingProgress(true, userId))\r\n\r\n  let response = await apiMethod(userId)\r\n  if (response.data.resultCode == 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\n\r\n\r\nexport const follow = (userId: number): thunkType => async (dispatch) => {\r\n  let apiMethod = usersAPI.follow.bind(usersAPI)\r\n  let actionCreator = followSuccess\r\n\r\n  _followUnfollowFlow(userId, dispatch, apiMethod, actionCreator)\r\n}\r\n\r\n\r\nexport const unfollow = (userId: number): thunkType => async (dispatch) => {\r\n  let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n  let actionCreator = unfollowSuccess\r\n\r\n  _followUnfollowFlow(userId, dispatch, apiMethod, actionCreator)\r\n}\r\n\r\n// before refactoring\r\n// export const follow/unfollow = async (userId) => dispatch => {\r\n\r\n//   dispatch(toggleIsFollowingProgress(true, userId))\r\n//   let response = await usersAPI.follow(userId)\r\n\r\n//   if (response.data.resultCode == 0) {\r\n//     dispatch(followSuccess(userId))\r\n//   }\r\n//   dispatch(toggleIsFollowingProgress(false, userId))\r\n// }\r\n\r\n\r\nexport default usersReducer","import React from 'react'\r\nimport preloader from '../../../assets/images/Preloader.gif'\r\n\r\nlet Preloader = (props) => {\r\n  return <div style={{ width: 200, height: 200, backgroundColor: \"transparent\" }}><img src={preloader} /></div>\r\n}\r\n\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__BenSc\",\"mainPhoto\":\"ProfileInfo_mainPhoto__i6nzX\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n  return <header className={s.header}>\r\n    <img src=\"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search/jcr_content/main-pars/image/visual-reverse-image-search-v2_intro.jpg\" alt=\"logo\" />\r\n    <div className={s.loginBlock}>\r\n      {props.isAuth\r\n        ? <div>{props.login} - <button onClick={props.logoutThunkCreator}>Log out</button> </div>\r\n        : <NavLink to='/login'>Login</NavLink>}\r\n\r\n    </div>\r\n  </header>\r\n\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport SideBar from '../Sidebar/Sidebar';\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = (props) => {\r\n  return <nav className={s.nav}>\r\n    <ul>\r\n      <li className={s.item}><NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink></li>\r\n      <li className={s.item}><NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink></li>\r\n      <li className={s.item}><NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink></li>\r\n      <li className={s.item}><NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink></li>\r\n      <li className={s.item}><NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink></li>\r\n      <li className={s.item}><NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink></li>\r\n    </ul>\r\n    {/* <SideBar /> */}\r\n  </nav>\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\n\r\nconst Settings = (props) => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings","import React from 'react'\r\n\r\nconst News = (props) => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News","import React from 'react'\r\n\r\nconst Music = (props) => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music","import React from 'react'\r\nimport ReactPaginate from 'react-paginate';\r\n\r\n\r\ntype propsType = {\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  onPageChanged: ((pageNumber: number) => void)\r\n  currentPage: number\r\n}\r\n\r\nconst Paginatior: React.FC<propsType> = (props) => {\r\n\r\n  let pageCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n  let pages: Array<Number> = [];\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  return (<div>\r\n\r\n    <ReactPaginate\r\n      previousLabel={'Previous page'}\r\n      nextLabel={'Next page'}\r\n      breakLabel={'...'}\r\n      breakClassName={'pagesBreak'}\r\n      pageCount={pageCount}\r\n      marginPagesDisplayed={2}\r\n      pageRangeDisplayed={5}\r\n      // @ts-ignore\r\n      onPageChange={props.onPageChanged}\r\n      containerClassName={'paginationUsers'}\r\n      subContainerClassName={'pages pagination'}\r\n      activeClassName={'active'}\r\n      disabledClassName={'hidden'}\r\n      nextLinkClassName={'btn'}\r\n      previousLinkClassName={'btn'}\r\n      pageClassName={'pages'}\r\n    />\r\n\r\n  </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Paginatior\r\n\r\n","import Axios from 'axios'\r\nimport React from 'react'\r\nimport s from './Users.module.css'\r\nimport userPhoto from '../../assets/images/userPhoto.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { usersAPI } from '../../api/api'\r\nimport Paginatior from '../common/Paginator/Paginator'\r\n\r\n\r\nconst User = ({ user, ...props }) => {\r\n\r\n  return <div>\r\n    <span>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img className={s.userPhoto} src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"avatar\" />\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        {user.followed\r\n          ? <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => { props.unfollow(user.id) }}>unfollow</button>\r\n          : <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => { props.follow(user.id) }}>follow</button>}\r\n      </div>\r\n    </span>\r\n    <span>\r\n      <span>\r\n        <div>{user.name}</div>\r\n        <div>{user.status}</div>\r\n      </span>\r\n      <span>\r\n        <div>{'user.location.city'}</div>\r\n        <div>{'user.location.country'}</div>\r\n      </span>\r\n    </span>\r\n  </div>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default User\r\n\r\n","import React from 'react'\r\nimport Paginatior from '../common/Paginator/Paginator'\r\nimport User from './User'\r\nimport { userType } from '../../types/types'\r\n\r\n\r\ntype propsType = {\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  onPageChanged: (pageNumber: number) => void\r\n  currentPage: number\r\n  followingInProgress: Array<number>\r\n  follow: (userId: number) => void\r\n  unfollow: (userId: number) => void\r\n  users: Array<userType>\r\n}\r\n\r\nconst Users: React.FC<propsType> = (props) => {\r\n\r\n  return <div>\r\n    <Paginatior totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} onPageChanged={props.onPageChanged} currentPage={props.currentPage} />\r\n\r\n    {\r\n      props.users.map(u => <User key={u.id} user={u} followingInProgress={props.followingInProgress} unfollow={props.unfollow} follow={props.follow} />)\r\n    }\r\n  </div>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Users\r\n\r\n","import React from 'react'\r\nimport { appStateType } from './redux-store'\r\n\r\nexport const getUsersSel = (state: appStateType) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state: appStateType) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: appStateType) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: appStateType) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: appStateType) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: appStateType) => {\r\n  return state.usersPage.followinInProgress\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { follow, unfollow, setCurrentPage, toggleIsFollowingProgress, getUsers } from '../../redux/Users_reducer'\r\nimport Users from './Users'\r\nimport Preloader from '../common/preloader/preloader'\r\nimport { compose } from 'redux'\r\nimport { getUsersSel, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/Users_selectors'\r\nimport { userType } from '../../types/types'\r\nimport { appStateType } from '../../redux/redux-store'\r\n\r\n\r\ntype ownPropsType = {}\r\n\r\ntype mapStatePropsType = {\r\n  currentPage: number\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  users: Array<userType>\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n}\r\n\r\ntype mapDispatchPropsType = {\r\n  getUsers: (currentPage: number, pageSize: number) => void\r\n  setCurrentPage: (pageNumber: number) => void\r\n  follow: (userId: number) => void\r\n  unfollow: (userId: number) => void\r\n}\r\n\r\ntype propsType = mapStatePropsType & mapDispatchPropsType\r\n\r\nclass UsersContainer extends React.Component<propsType> {\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    // this.props.toggleIsFetching(true)\r\n    // usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n    //   .then(data => {\r\n    //     this.props.toggleIsFetching(false)\r\n    //     this.props.setUsers(data.items)\r\n    //     this.props.setTotalUsersCount(data.totalCount)\r\n    //   })\r\n  }\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n    this.props.setCurrentPage(pageNumber)\r\n    // this.props.toggleIsFetching(true)\r\n    // usersAPI.getUsers(pageNumber, this.props.pageSize)\r\n    //   .then(data => {\r\n    //     this.props.toggleIsFetching(false)\r\n    //     this.props.setUsers(data.items)\r\n    //   })\r\n  }\r\n\r\n  render() {\r\n\r\n    return <>\r\n      {this.props.isFetching\r\n        ? <Preloader />\r\n        : null}\r\n      <Users\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        followingInProgress={this.props.followingInProgress} />\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state: appStateType): mapStatePropsType => {\r\n  return {\r\n    users: getUsersSel(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect<mapStatePropsType, mapDispatchPropsType, ownPropsType, appStateType>(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    // toggleIsFollowingProgress,\r\n    getUsers\r\n  }),\r\n  // withAuthRedirectComponent\r\n  // @ts-ignore\r\n)(UsersContainer)\r\n\r\n","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI, ResultCodeEnum, ResultCodeForCaptchaEnum, securityAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\n// export type initialStateType2 = {\r\n//   userId: number | null,\r\n//   email: string | null,\r\n//   login: string | null,\r\n//   isAuth: boolean,\r\n//   captchaUrl: string | null\r\n// }\r\n\r\nlet initialState = {\r\n  userId: null as number | null,\r\n  email: null as string | null,\r\n  login: null as string | null,\r\n  isAuth: false,\r\n  captchaUrl: null as string | null\r\n}\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nconst authReducer = (state = initialState, action: any): initialStateType => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        captchaUrl: action.captchaUrl\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype setAuthUserDataActionDataType = {\r\n  email: string | null\r\n  userId: number | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\ntype setAuthUserDataActionType = {\r\n  type: typeof SET_USER_DATA,\r\n  data: setAuthUserDataActionDataType\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): setAuthUserDataActionType => (\r\n  { type: SET_USER_DATA, data: { email, userId, login, isAuth } })\r\n\r\ntype getCaptchaUrlSuccessActionType = {\r\n  type: typeof GET_CAPTCHA_URL_SUCCESS,\r\n  captchaUrl: string\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (url: string): getCaptchaUrlSuccessActionType => ({ type: GET_CAPTCHA_URL_SUCCESS, captchaUrl: url })\r\n\r\nexport const authMeThunkCreator = () => async (dispatch: any) => {\r\n\r\n  let data = await authAPI.authMe()\r\n\r\n  if (data.resultCode === ResultCodeEnum.Success) {\r\n    let { id, login, email } = data.data\r\n    dispatch(setAuthUserData(id, login, email, true))\r\n  }\r\n}\r\n\r\nexport const loginThunkCreator = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n\r\n  let data = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n  if (data.resultCode === ResultCodeEnum.Success) {\r\n    dispatch(authMeThunkCreator())\r\n  } else {\r\n    // below must be used '===' but I don't really know why TS always alert an error\r\n    if (data.resultCode >= ResultCodeForCaptchaEnum.CaptchaIsRequired) {\r\n      dispatch(getCaptchaUrl())\r\n    } else {\r\n      let messages = data.messages.length > 0 ? data.messages[0] : 'Some error'\r\n      dispatch(stopSubmit('login', ({ _error: messages })))\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const logoutThunkCreator = () => async (dispatch: any) => {\r\n  let response = await authAPI.logout()\r\n\r\n  if (response.data.resultCode === ResultCodeEnum.Success) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n\r\n  const data = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = data.url\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport default authReducer","import { render } from '@testing-library/react';\r\nimport Axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport s from './Header.module.css'\r\nimport { authMeThunkCreator, setAuthUserData, logoutThunkCreator } from '../../redux/Auth_reducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logoutThunkCreator })(HeaderContainer) ","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { authAPI } from '../../api/api'\r\nimport { required } from '../../utils/validation/validators'\r\nimport { formControl } from '../common/FormControls/formControls'\r\nimport { loginThunkCreator } from '../../redux/Auth_reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport style from '../../components/common/FormControls/formControls.module.css'\r\n\r\n\r\nconst Input = formControl('input')\r\n\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field placeholder='Email' type=\"text\" name={'email'} component={Input} validate={required} />\r\n      </div>\r\n      <div>\r\n        <Field placeholder='Password' type=\"password\" name={'password'} component={Input} validate={required} />\r\n      </div>\r\n      <div>\r\n        <Field type=\"checkbox\" name={'rememberMe'} component={'input'} /> Remember me\r\n      </div>\r\n\r\n      { props.captchaUrl && <img src={props.captchaUrl} />}\r\n      { props.captchaUrl && <Field placeholder='Symbols from image' name={'captcha'} component={Input} validate={required} />}\r\n\r\n      {props.error\r\n        ? <div className='formSummaryError'> {props.error} </div>\r\n        : null}\r\n\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    props.loginThunkCreator(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n  }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginThunkCreator })(Login)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { authMeThunkCreator } from \"./Auth_reducer\"\r\n\r\nconst INITIALISED_SUCCESS = 'INITIALISED_SUCCESS'\r\n\r\n\r\nexport type initialStateType = {\r\n  initialised: boolean\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n  initialised: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action: any): initialStateType => {\r\n  switch (action.type) {\r\n    case INITIALISED_SUCCESS:\r\n\r\n\r\n      return {\r\n        ...state,\r\n        initialised: true\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype initialisedSuccessActionType = {\r\n  type: typeof INITIALISED_SUCCESS\r\n}\r\n\r\n\r\nexport const initialisedSuccess = (): initialisedSuccessActionType => ({ type: INITIALISED_SUCCESS })\r\n\r\nexport const initialiseApp = () => {\r\n  return (dispatch: any) => {\r\n    let dispatchResult = dispatch(authMeThunkCreator())\r\n    Promise.all([dispatchResult])\r\n      .then(() => {\r\n        (dispatch(initialisedSuccess()))\r\n      })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default appReducer","\r\n\r\nlet initialState = {\r\n  friends: [\r\n    { id: 1, name: 'Dimych', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 2, name: 'Lena', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 3, name: 'Andrew', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 4, name: 'Nastya', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 5, name: 'Yana', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n    { id: 6, name: 'Diana', avatarURL: 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg' },\r\n  ]\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n\r\n\r\n  return state\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default sidebarReducer","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport authReducer from \"./Auth_reducer\";\r\nimport dialogsReducer from \"./Dialogs_reducer\";\r\nimport profileReducer from \"./Profile_reducer\";\r\nimport sidebarReducer from \"./Sidebar_reducer\";\r\nimport usersReducer from \"./Users_reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./App_reducer\";\r\n\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\ntype rootReducerType = typeof rootReducer\r\nexport type appStateType = ReturnType<rootReducerType>\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n  applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n\r\n\r\nexport default store","import React, { Suspense } from 'react';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport Navbar from './components/Navbar/Navbar';\nimport Profile from './components/Profile/Profile';\nimport Dialogs from './components/Dialogs/Dialogs';\nimport { BrowserRouter, Redirect, Route, withRouter } from 'react-router-dom';\nimport Settings from './components/Settings/Settings';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\n\nimport Users from './components/Users/Users';\nimport UsersContainer from './components/Users/UsersContainer';\n\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/login/login';\nimport { connect, Provider } from 'react-redux';\nimport { initialiseApp } from './redux/App_reducer'\nimport { compose } from 'redux';\nimport Preloader from './components/common/preloader/preloader';\nimport store from './redux/redux-store';\n\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n\n\n\n\n\n  componentDidMount() {\n    this.props.initialiseApp()\n    window.addEventListener(\"error\", function (e) {\n      console.log(\"Error occurred: \" + e.error.message);\n      console.log('SHIT');\n      return false;\n    })\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"error\", function (e) {\n      console.log(\"Error occurred: \" + e.error.message);\n      return false;\n    })\n  }\n\n  render() {\n\n    if (!this.props.initialised) {\n      return <Preloader />\n    }\n\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <Suspense fallback={<div>Loading...</div>}>\n          <div className='app-wrapper-content'>\n            <Route exact path='/' render={() => <Redirect to='/profile' />} />\n            <Route path='/login' render={() => <LoginPage />} />\n            <Route path='/profile/:userId?' render={() => <ProfileContainer store={this.props.store} />} />\n            <Route path='/dialogs' render={() => <DialogsContainer store={this.props.store} />} />\n            <Route path='/users' render={() => <UsersContainer />} />\n            <Route path='/news' render={News} />\n            <Route path='/music' render={Music} />\n            <Route path='/settings' render={Settings} />\n            {/* <Route path='*' render={() => <div>404 NOT FOUND </div>} /> */}\n          </div>\n        </Suspense>\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => ({\n  initialised: state.app.initialised\n})\n\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initialiseApp }))(App)\n\nlet MainApp = (props) => {\n  return <BrowserRouter>\n    <Provider store={store} >\n      <AppContainer />\n    </Provider>\n  </BrowserRouter>\n}\n\nexport default MainApp","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport MainApp from './App';\n\n\nReactDOM.render(\n  <MainApp />,\n  document.getElementById('root')\n);\n\n\nserviceWorker.unregister();\n","import { stopSubmit } from \"redux-form\"\r\nimport { profileAPI } from \"../api/api\"\r\nimport { photosType, postType, profileType, contactsType } from \"../types/types\"\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_USER_STATUS = 'SET_USER_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hey, how are you?', likesCount: 9 },\r\n    { id: 2, message: 'You are the best!', likesCount: 240 },\r\n    { id: 3, message: 'Hey, how are you?Good?', likesCount: 1 },\r\n    { id: 4, message: 'Hey, how are you?Bad?', likesCount: 5 },\r\n    { id: 5, message: 'I am good!', likesCount: 20 },\r\n    { id: 6, message: 'Hey, I am new.', likesCount: 10 },\r\n  ] as Array<postType>,\r\n  newPostText: '',\r\n  profile: null as profileType | null,\r\n  status: ''\r\n}\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, { id: 5, message: action.newPost, likesCount: 0 }],\r\n        newPostText: ''\r\n      }\r\n\r\n    case UPDATE_NEW_POST_TEXT: {\r\n      return {\r\n        ...state,\r\n        newPostText: action.newText\r\n      }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts.filter(p => p.id != action.id)]\r\n      }\r\n    }\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } as profileType }\r\n\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype addPostCreatorActionType = {\r\n  type: typeof ADD_POST\r\n  newPost: string\r\n}\r\n\r\nexport const addPostCreator = (newPost: string): addPostCreatorActionType => ({ type: ADD_POST, newPost })\r\ntype setUserProfileActionType = {\r\n  type: typeof SET_USER_PROFILE\r\n  profile: profileType\r\n}\r\nexport const setUserProfile = (profile: profileType): setUserProfileActionType => ({ type: SET_USER_PROFILE, profile })\r\ntype setUserStatusActionType = {\r\n  type: typeof SET_USER_STATUS\r\n  status: string\r\n}\r\nexport const setUserStatus = (status: string): setUserStatusActionType => ({ type: SET_USER_STATUS, status })\r\ntype deletePostActionType = {\r\n  type: typeof DELETE_POST\r\n  id: number\r\n}\r\nexport const deletePost = (id: number): deletePostActionType => ({ type: DELETE_POST, id })\r\ntype savePhotoSuccessActionType = {\r\n  type: typeof SAVE_PHOTO_SUCCESS\r\n  photos: photosType\r\n}\r\nexport const savePhotoSuccess = (photos: photosType): savePhotoSuccessActionType => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\ntype updateNewPostTextCreatorActionType = {\r\n  type: typeof UPDATE_NEW_POST_TEXT\r\n  newText: string\r\n}\r\nexport const updateNewPostTextCreator = (text: string) => {\r\n  return {\r\n    type: UPDATE_NEW_POST_TEXT,\r\n    newText: text\r\n  }\r\n}\r\n\r\nexport const showProfileThunkCreator = (userId: number) => async (dispatch: any) => {\r\n  let data = await profileAPI.showProfile(userId)\r\n  dispatch(setUserProfile(data))\r\n}\r\n\r\nexport const getUserStatus = (userId: number) => async (dispatch: any) => {\r\n  let data = await profileAPI.getStatus(userId)\r\n\r\n  dispatch(setUserStatus(data))\r\n\r\n}\r\n\r\nexport const updateUserStatus = (status: string) => async (dispatch: any) => {\r\n  try {\r\n    let data = await profileAPI.updateStatus(status)\r\n    if (data.resultCode === 0) {\r\n      dispatch(setUserStatus(status))\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n  let data = await profileAPI.savePhoto(file)\r\n  if (data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(data.data.photos))\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile: profileType) => async (dispatch: any, getState: any) => {\r\n  const userId = getState().auth.userId\r\n  let data = await profileAPI.saveProfile(profile)\r\n  if (data.resultCode === 0) {\r\n    dispatch(showProfileThunkCreator(userId))\r\n  } else {\r\n    dispatch(stopSubmit('editProfile', ({ _error: data.messages[0] })))\r\n    return Promise.reject(data.messages[0])\r\n  }\r\n}\r\n\r\n\r\nexport default profileReducer","import React from 'react';\r\nimport styles from './formControls.module.css';\r\n\r\nexport const formControl = Element => ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <div className={hasError ? styles.error : ''}>\r\n      <Element {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}